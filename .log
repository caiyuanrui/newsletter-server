
running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 19 filtered out; finished in 0.00s


running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s


running 1 test
[2025-02-05T07:09:18.163Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-UTnb26fBE9: Initializing router with policy: None (file=null,line=null,log.line=533,log.module_path=fred::router::commands,log.target=fred::router::commands,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/router/commands.rs
[2025-02-05T07:09:18.163Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-UTnb26fBE9: Initializing centralized connection. (file=null,line=null,log.line=91,log.module_path=fred::router::centralized,log.target=fred::router::centralized,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/router/centralized.rs
[2025-02-05T07:09:18.163Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-ELUBzzbNiS: Initializing router with policy: None (file=null,line=null,log.line=533,log.module_path=fred::router::commands,log.target=fred::router::commands,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/router/commands.rs
[2025-02-05T07:09:18.163Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-ELUBzzbNiS: Initializing centralized connection. (file=null,line=null,log.line=91,log.module_path=fred::router::centralized,log.target=fred::router::centralized,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/router/centralized.rs
[2025-02-05T07:09:18.163Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-CsYLUT21Nz: Initializing router with policy: None (file=null,line=null,log.line=533,log.module_path=fred::router::commands,log.target=fred::router::commands,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/router/commands.rs
[2025-02-05T07:09:18.163Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-CsYLUT21Nz: Initializing centralized connection. (file=null,line=null,log.line=91,log.module_path=fred::router::centralized,log.target=fred::router::centralized,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/router/centralized.rs
[2025-02-05T07:09:18.163Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-5sI7sju28U: Initializing router with policy: None (file=null,line=null,log.line=533,log.module_path=fred::router::commands,log.target=fred::router::commands,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/router/commands.rs
[2025-02-05T07:09:18.163Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-5sI7sju28U: Initializing centralized connection. (file=null,line=null,log.line=91,log.module_path=fred::router::centralized,log.target=fred::router::centralized,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/router/centralized.rs
[2025-02-05T07:09:18.163Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-Cdj0GT43dc: Initializing router with policy: None (file=null,line=null,log.line=533,log.module_path=fred::router::commands,log.target=fred::router::commands,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/router/commands.rs
[2025-02-05T07:09:18.163Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-Cdj0GT43dc: Initializing centralized connection. (file=null,line=null,log.line=91,log.module_path=fred::router::centralized,log.target=fred::router::centralized,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/router/centralized.rs
[2025-02-05T07:09:18.163Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-9OFimnRH1A: Initializing router with policy: None (file=null,line=null,log.line=533,log.module_path=fred::router::commands,log.target=fred::router::commands,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/router/commands.rs
[2025-02-05T07:09:18.163Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-9OFimnRH1A: Initializing centralized connection. (file=null,line=null,log.line=91,log.module_path=fred::router::centralized,log.target=fred::router::centralized,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/router/centralized.rs
[2025-02-05T07:09:18.163Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-UTnb26fBE9: Creating TCP connection to 127.0.0.1 at 127.0.0.1:6379 (file=null,line=null,log.line=85,log.module_path=fred::protocol::connection,log.target=fred::protocol::connection,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/protocol/connection.rs
[2025-02-05T07:09:18.164Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-ELUBzzbNiS: Creating TCP connection to 127.0.0.1 at 127.0.0.1:6379 (file=null,line=null,log.line=85,log.module_path=fred::protocol::connection,log.target=fred::protocol::connection,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/protocol/connection.rs
[2025-02-05T07:09:18.164Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-CsYLUT21Nz: Creating TCP connection to 127.0.0.1 at 127.0.0.1:6379 (file=null,line=null,log.line=85,log.module_path=fred::protocol::connection,log.target=fred::protocol::connection,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/protocol/connection.rs
[2025-02-05T07:09:18.164Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-5sI7sju28U: Creating TCP connection to 127.0.0.1 at 127.0.0.1:6379 (file=null,line=null,log.line=85,log.module_path=fred::protocol::connection,log.target=fred::protocol::connection,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/protocol/connection.rs
[2025-02-05T07:09:18.164Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-Cdj0GT43dc: Creating TCP connection to 127.0.0.1 at 127.0.0.1:6379 (file=null,line=null,log.line=85,log.module_path=fred::protocol::connection,log.target=fred::protocol::connection,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/protocol/connection.rs
[2025-02-05T07:09:18.164Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-9OFimnRH1A: Creating TCP connection to 127.0.0.1 at 127.0.0.1:6379 (file=null,line=null,log.line=85,log.module_path=fred::protocol::connection,log.target=fred::protocol::connection,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/protocol/connection.rs
[2025-02-05T07:09:18.164Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-UTnb26fBE9: Read client ID: Ok(Number { data: 30837, attributes: None }) (file=null,line=null,log.line=536,log.module_path=fred::protocol::connection,log.target=fred::protocol::connection,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/protocol/connection.rs
[2025-02-05T07:09:18.164Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-ELUBzzbNiS: Read client ID: Ok(Number { data: 30838, attributes: None }) (file=null,line=null,log.line=536,log.module_path=fred::protocol::connection,log.target=fred::protocol::connection,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/protocol/connection.rs
[2025-02-05T07:09:18.164Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-CsYLUT21Nz: Read client ID: Ok(Number { data: 30839, attributes: None }) (file=null,line=null,log.line=536,log.module_path=fred::protocol::connection,log.target=fred::protocol::connection,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/protocol/connection.rs
[2025-02-05T07:09:18.164Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-5sI7sju28U: Read client ID: Ok(Number { data: 30840, attributes: None }) (file=null,line=null,log.line=536,log.module_path=fred::protocol::connection,log.target=fred::protocol::connection,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/protocol/connection.rs
[2025-02-05T07:09:18.164Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-Cdj0GT43dc: Read client ID: Ok(Number { data: 30841, attributes: None }) (file=null,line=null,log.line=536,log.module_path=fred::protocol::connection,log.target=fred::protocol::connection,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/protocol/connection.rs
[2025-02-05T07:09:18.164Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-9OFimnRH1A: Read client ID: Ok(Number { data: 30842, attributes: None }) (file=null,line=null,log.line=536,log.module_path=fred::protocol::connection,log.target=fred::protocol::connection,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/protocol/connection.rs
[2025-02-05T07:09:18.165Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-UTnb26fBE9: Read server version Some(Version { major: 7, minor: 2, patch: 7 }) (file=null,line=null,log.line=468,log.module_path=fred::protocol::connection,log.target=fred::protocol::connection,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/protocol/connection.rs
[2025-02-05T07:09:18.165Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-UTnb26fBE9: No `on_reconnect` listeners. (file=null,line=null,log.line=135,log.module_path=fred::modules::inner,log.target=fred::modules::inner,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/modules/inner.rs
[2025-02-05T07:09:18.165Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-ELUBzzbNiS: Read server version Some(Version { major: 7, minor: 2, patch: 7 }) (file=null,line=null,log.line=468,log.module_path=fred::protocol::connection,log.target=fred::protocol::connection,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/protocol/connection.rs
[2025-02-05T07:09:18.165Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-ELUBzzbNiS: No `on_reconnect` listeners. (file=null,line=null,log.line=135,log.module_path=fred::modules::inner,log.target=fred::modules::inner,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/modules/inner.rs
[2025-02-05T07:09:18.165Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-CsYLUT21Nz: Read server version Some(Version { major: 7, minor: 2, patch: 7 }) (file=null,line=null,log.line=468,log.module_path=fred::protocol::connection,log.target=fred::protocol::connection,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/protocol/connection.rs
[2025-02-05T07:09:18.165Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-CsYLUT21Nz: No `on_reconnect` listeners. (file=null,line=null,log.line=135,log.module_path=fred::modules::inner,log.target=fred::modules::inner,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/modules/inner.rs
[2025-02-05T07:09:18.165Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-5sI7sju28U: Read server version Some(Version { major: 7, minor: 2, patch: 7 }) (file=null,line=null,log.line=468,log.module_path=fred::protocol::connection,log.target=fred::protocol::connection,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/protocol/connection.rs
[2025-02-05T07:09:18.165Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-5sI7sju28U: No `on_reconnect` listeners. (file=null,line=null,log.line=135,log.module_path=fred::modules::inner,log.target=fred::modules::inner,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/modules/inner.rs
[2025-02-05T07:09:18.165Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-Cdj0GT43dc: Read server version Some(Version { major: 7, minor: 2, patch: 7 }) (file=null,line=null,log.line=468,log.module_path=fred::protocol::connection,log.target=fred::protocol::connection,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/protocol/connection.rs
[2025-02-05T07:09:18.165Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-Cdj0GT43dc: No `on_reconnect` listeners. (file=null,line=null,log.line=135,log.module_path=fred::modules::inner,log.target=fred::modules::inner,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/modules/inner.rs
[2025-02-05T07:09:18.165Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-9OFimnRH1A: Read server version Some(Version { major: 7, minor: 2, patch: 7 }) (file=null,line=null,log.line=468,log.module_path=fred::protocol::connection,log.target=fred::protocol::connection,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/protocol/connection.rs
[2025-02-05T07:09:18.165Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: fred-9OFimnRH1A: No `on_reconnect` listeners. (file=null,line=null,log.line=135,log.module_path=fred::modules::inner,log.target=fred::modules::inner,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/fred-10.0.4/src/modules/inner.rs
[2025-02-05T07:09:18.166Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: sqlx::query (elapsed=2.344834ms,elapsed_secs=0.002344834,line=143,rows_affected=1,rows_returned=0,summary="INSERT INTO users (user_id, …",target=sqlx::query)
    db.statement: 
    
    INSERT INTO users (user_id, username, password_hash) VALUES (? ,?, ?)
    --
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/sqlx-core-0.8.3/src/logger.rs
[2025-02-05T07:09:18.167Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: starting new connection: http://127.0.0.1:57870/ (file=null,line=null,log.line=620,log.module_path=reqwest::connect,log.target=reqwest::connect,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/reqwest-0.12.12/src/connect.rs
[2025-02-05T07:09:18.167Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: connecting to 127.0.0.1:57870 (line=657,target=hyper_util::client::legacy::connect::http)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/hyper-util-0.1.10/src/client/legacy/connect/http.rs
[2025-02-05T07:09:18.167Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: connected to 127.0.0.1:57870 (line=660,target=hyper_util::client::legacy::connect::http)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/hyper-util-0.1.10/src/client/legacy/connect/http.rs
[2025-02-05T07:09:18.168Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - START] (line=109,method=POST,target=tower_http::trace::make_span,uri=/subscriptions,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/make_span.rs
[2025-02-05T07:09:18.168Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - EVENT] started processing request (line=80,method=POST,target=tower_http::trace::on_request,uri=/subscriptions,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/on_request.rs
[2025-02-05T07:09:18.168Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [CALL - START] (line=183,method=POST,target=tower_sessions::service,uri=/subscriptions,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-0.14.0/src/service.rs
[2025-02-05T07:09:18.168Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - START] (line=107,method=POST,target=tower_sessions_core::session,uri=/subscriptions,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.168Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - END] (elapsed_milliseconds=0,line=107,method=POST,target=tower_sessions_core::session,uri=/subscriptions,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.168Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [ADDING A NEW SUBSCRIBER - START] (base_url=ApplicationBaseUrl("http://127.0.0.1"),file=src/routes/subscriptions.rs,line=21,method=POST,subscriber_email=georgiana@example.net,subscriber_name="Israel Quigley",target=zero2prod::routes::subscriptions,uri=/subscriptions,version=HTTP/1.1)
[2025-02-05T07:09:18.168Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [ADDING A NEW SUBSCRIBER - EVENT] sqlx::query (base_url=ApplicationBaseUrl("http://127.0.0.1"),db.statement="",elapsed=163.083µs,elapsed_secs=0.000163083,line=143,method=POST,rows_affected=0,rows_returned=0,subscriber_email=georgiana@example.net,subscriber_name="Israel Quigley",summary=BEGIN,target=sqlx::query,uri=/subscriptions,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/sqlx-core-0.8.3/src/logger.rs
[2025-02-05T07:09:18.168Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [SAVING NEW SUBSCRIBER DETAILS IN THE DATABASE - START] (base_url=ApplicationBaseUrl("http://127.0.0.1"),file=src/routes/subscriptions.rs,line=145,method=POST,subscriber_email=georgiana@example.net,subscriber_name="Israel Quigley",target=zero2prod::routes::subscriptions,uri=/subscriptions,version=HTTP/1.1)
[2025-02-05T07:09:18.170Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [SAVING NEW SUBSCRIBER DETAILS IN THE DATABASE - EVENT] sqlx::query (base_url=ApplicationBaseUrl("http://127.0.0.1"),elapsed=1.594542ms,elapsed_secs=0.001594542,line=143,method=POST,rows_affected=1,rows_returned=0,subscriber_email=georgiana@example.net,subscriber_name="Israel Quigley",summary="INSERT INTO subscriptions (id, …",target=sqlx::query,uri=/subscriptions,version=HTTP/1.1)
    db.statement: 
    
    
    INSERT INTO subscriptions (id, email, name, subscribed_at, status)
    VALUES (?, ?, ?, ?, 'pending_confirmation')
    
    --
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/sqlx-core-0.8.3/src/logger.rs
[2025-02-05T07:09:18.170Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [SAVING NEW SUBSCRIBER DETAILS IN THE DATABASE - END] (base_url=ApplicationBaseUrl("http://127.0.0.1"),elapsed_milliseconds=1,file=src/routes/subscriptions.rs,line=145,method=POST,subscriber_email=georgiana@example.net,subscriber_name="Israel Quigley",target=zero2prod::routes::subscriptions,uri=/subscriptions,version=HTTP/1.1)
[2025-02-05T07:09:18.170Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [STORE SUBSCRIPTION TOKEN IN THE DATABASE - START] (base_url=ApplicationBaseUrl("http://127.0.0.1"),file=src/routes/subscriptions.rs,line=171,method=POST,subscriber_email=georgiana@example.net,subscriber_id=UserId(a800c1a5-1a93-47a5-9ddc-9ec3ae5aa108),subscriber_name="Israel Quigley",target=zero2prod::routes::subscriptions,uri=/subscriptions,version=HTTP/1.1)
[2025-02-05T07:09:18.172Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [STORE SUBSCRIPTION TOKEN IN THE DATABASE - EVENT] sqlx::query (base_url=ApplicationBaseUrl("http://127.0.0.1"),elapsed=1.338833ms,elapsed_secs=0.001338833,line=143,method=POST,rows_affected=1,rows_returned=0,subscriber_email=georgiana@example.net,subscriber_id=UserId(a800c1a5-1a93-47a5-9ddc-9ec3ae5aa108),subscriber_name="Israel Quigley",target=sqlx::query,uri=/subscriptions,version=HTTP/1.1)
    db.statement: 
    
    INSERT INTO subscription_tokens (subscription_token, subscriber_id)  VALUES (?, ?)
    --
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/sqlx-core-0.8.3/src/logger.rs
    --
    summary: INSERT INTO subscription_tokens (subscription_token, …
[2025-02-05T07:09:18.172Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [STORE SUBSCRIPTION TOKEN IN THE DATABASE - END] (base_url=ApplicationBaseUrl("http://127.0.0.1"),elapsed_milliseconds=1,file=src/routes/subscriptions.rs,line=171,method=POST,subscriber_email=georgiana@example.net,subscriber_id=UserId(a800c1a5-1a93-47a5-9ddc-9ec3ae5aa108),subscriber_name="Israel Quigley",target=zero2prod::routes::subscriptions,uri=/subscriptions,version=HTTP/1.1)
[2025-02-05T07:09:18.172Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [ADDING A NEW SUBSCRIBER - EVENT] sqlx::query (base_url=ApplicationBaseUrl("http://127.0.0.1"),db.statement="",elapsed=544.5µs,elapsed_secs=0.0005445,line=143,method=POST,rows_affected=0,rows_returned=0,subscriber_email=georgiana@example.net,subscriber_name="Israel Quigley",summary=COMMIT,target=sqlx::query,uri=/subscriptions,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/sqlx-core-0.8.3/src/logger.rs
[2025-02-05T07:09:18.172Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [SENDING A CONFIRMATION EMAIL TO THE SUBSCRIBER - START] (base_url=ApplicationBaseUrl("http://127.0.0.1"),file=src/routes/subscriptions.rs,line=86,method=POST,subscriber_email=georgiana@example.net,subscriber_name="Israel Quigley",target=zero2prod::routes::subscriptions,token=kAdUnDT2VmpKq3jFmomjyg4oe,uri=/subscriptions,version=HTTP/1.1)
    new_subscriber: NewSubscriber { email: SubscriberEmail("georgiana@example.net"), name: SubscriberName("Israel Quigley") }
[2025-02-05T07:09:18.172Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [SEND EMAIL WITH POSTMARK  - START] (base_url=ApplicationBaseUrl("http://127.0.0.1"),file=src/email_client.rs,line=65,method=POST,recipient=SubscriberEmail("georgiana@example.net"),subject=Welcome,subscriber_email=georgiana@example.net,subscriber_name="Israel Quigley",target=zero2prod::email_client,token=kAdUnDT2VmpKq3jFmomjyg4oe,uri=/subscriptions,version=HTTP/1.1)
    html_content: Welcome to our newsletter!<br />
      Click <a href="http://127.0.0.1/subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe">here</a> to confirm your subscription.
    --
    new_subscriber: NewSubscriber { email: SubscriberEmail("georgiana@example.net"), name: SubscriberName("Israel Quigley") }
    --
    text_content: Welcome to our newsletter!
      Visit http://127.0.0.1/subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe to confirm your subscription.
[2025-02-05T07:09:18.173Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [SEND EMAIL WITH POSTMARK  - EVENT] starting new connection: http://127.0.0.1:57868/ (base_url=ApplicationBaseUrl("http://127.0.0.1"),file=null,line=null,log.line=620,log.module_path=reqwest::connect,log.target=reqwest::connect,method=POST,recipient=SubscriberEmail("georgiana@example.net"),subject=Welcome,subscriber_email=georgiana@example.net,subscriber_name="Israel Quigley",target=log,token=kAdUnDT2VmpKq3jFmomjyg4oe,uri=/subscriptions,version=HTTP/1.1)
    html_content: Welcome to our newsletter!<br />
      Click <a href="http://127.0.0.1/subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe">here</a> to confirm your subscription.
    --
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/reqwest-0.12.12/src/connect.rs
    --
    new_subscriber: NewSubscriber { email: SubscriberEmail("georgiana@example.net"), name: SubscriberName("Israel Quigley") }
    --
    text_content: Welcome to our newsletter!
      Visit http://127.0.0.1/subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe to confirm your subscription.
[2025-02-05T07:09:18.173Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [SEND EMAIL WITH POSTMARK  - EVENT] connecting to 127.0.0.1:57868 (base_url=ApplicationBaseUrl("http://127.0.0.1"),line=657,method=POST,recipient=SubscriberEmail("georgiana@example.net"),subject=Welcome,subscriber_email=georgiana@example.net,subscriber_name="Israel Quigley",target=hyper_util::client::legacy::connect::http,token=kAdUnDT2VmpKq3jFmomjyg4oe,uri=/subscriptions,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/hyper-util-0.1.10/src/client/legacy/connect/http.rs
    --
    html_content: Welcome to our newsletter!<br />
      Click <a href="http://127.0.0.1/subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe">here</a> to confirm your subscription.
    --
    new_subscriber: NewSubscriber { email: SubscriberEmail("georgiana@example.net"), name: SubscriberName("Israel Quigley") }
    --
    text_content: Welcome to our newsletter!
      Visit http://127.0.0.1/subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe to confirm your subscription.
[2025-02-05T07:09:18.173Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [SEND EMAIL WITH POSTMARK  - EVENT] connected to 127.0.0.1:57868 (base_url=ApplicationBaseUrl("http://127.0.0.1"),line=660,method=POST,recipient=SubscriberEmail("georgiana@example.net"),subject=Welcome,subscriber_email=georgiana@example.net,subscriber_name="Israel Quigley",target=hyper_util::client::legacy::connect::http,token=kAdUnDT2VmpKq3jFmomjyg4oe,uri=/subscriptions,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/hyper-util-0.1.10/src/client/legacy/connect/http.rs
    --
    html_content: Welcome to our newsletter!<br />
      Click <a href="http://127.0.0.1/subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe">here</a> to confirm your subscription.
    --
    new_subscriber: NewSubscriber { email: SubscriberEmail("georgiana@example.net"), name: SubscriberName("Israel Quigley") }
    --
    text_content: Welcome to our newsletter!
      Visit http://127.0.0.1/subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe to confirm your subscription.
[2025-02-05T07:09:18.173Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: Handling request. (file=null,line=null,log.line=60,log.module_path=wiremock::mock_set,log.target=wiremock::mock_set,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/wiremock-0.6.2/src/mock_set.rs
[2025-02-05T07:09:18.173Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [SEND EMAIL WITH POSTMARK  - EVENT] pooling idle connection for ("http", 127.0.0.1:57868) (base_url=ApplicationBaseUrl("http://127.0.0.1"),line=396,method=POST,recipient=SubscriberEmail("georgiana@example.net"),subject=Welcome,subscriber_email=georgiana@example.net,subscriber_name="Israel Quigley",target=hyper_util::client::legacy::pool,token=kAdUnDT2VmpKq3jFmomjyg4oe,uri=/subscriptions,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/hyper-util-0.1.10/src/client/legacy/pool.rs
    --
    html_content: Welcome to our newsletter!<br />
      Click <a href="http://127.0.0.1/subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe">here</a> to confirm your subscription.
    --
    new_subscriber: NewSubscriber { email: SubscriberEmail("georgiana@example.net"), name: SubscriberName("Israel Quigley") }
    --
    text_content: Welcome to our newsletter!
      Visit http://127.0.0.1/subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe to confirm your subscription.
[2025-02-05T07:09:18.173Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [SEND EMAIL WITH POSTMARK  - END] (base_url=ApplicationBaseUrl("http://127.0.0.1"),elapsed_milliseconds=0,file=src/email_client.rs,line=65,method=POST,recipient=SubscriberEmail("georgiana@example.net"),subject=Welcome,subscriber_email=georgiana@example.net,subscriber_name="Israel Quigley",target=zero2prod::email_client,token=kAdUnDT2VmpKq3jFmomjyg4oe,uri=/subscriptions,version=HTTP/1.1)
    html_content: Welcome to our newsletter!<br />
      Click <a href="http://127.0.0.1/subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe">here</a> to confirm your subscription.
    --
    new_subscriber: NewSubscriber { email: SubscriberEmail("georgiana@example.net"), name: SubscriberName("Israel Quigley") }
    --
    text_content: Welcome to our newsletter!
      Visit http://127.0.0.1/subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe to confirm your subscription.
[2025-02-05T07:09:18.173Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [SENDING A CONFIRMATION EMAIL TO THE SUBSCRIBER - END] (base_url=ApplicationBaseUrl("http://127.0.0.1"),elapsed_milliseconds=1,file=src/routes/subscriptions.rs,line=86,method=POST,subscriber_email=georgiana@example.net,subscriber_name="Israel Quigley",target=zero2prod::routes::subscriptions,token=kAdUnDT2VmpKq3jFmomjyg4oe,uri=/subscriptions,version=HTTP/1.1)
    new_subscriber: NewSubscriber { email: SubscriberEmail("georgiana@example.net"), name: SubscriberName("Israel Quigley") }
[2025-02-05T07:09:18.173Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [ADDING A NEW SUBSCRIBER - END] (base_url=ApplicationBaseUrl("http://127.0.0.1"),elapsed_milliseconds=5,file=src/routes/subscriptions.rs,line=21,method=POST,subscriber_email=georgiana@example.net,subscriber_name="Israel Quigley",target=zero2prod::routes::subscriptions,uri=/subscriptions,version=HTTP/1.1)
[2025-02-05T07:09:18.173Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - EVENT] finished processing request (latency="5 ms",line=114,method=POST,status=200,target=tower_http::trace::on_response,uri=/subscriptions,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/on_response.rs
[2025-02-05T07:09:18.173Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [CALL - END] (elapsed_milliseconds=5,line=183,method=POST,target=tower_sessions::service,uri=/subscriptions,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-0.14.0/src/service.rs
[2025-02-05T07:09:18.174Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - END] (elapsed_milliseconds=5,line=109,method=POST,target=tower_http::trace::make_span,uri=/subscriptions,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/make_span.rs
[2025-02-05T07:09:18.174Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: pooling idle connection for ("http", 127.0.0.1:57870) (line=396,target=hyper_util::client::legacy::pool)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/hyper-util-0.1.10/src/client/legacy/pool.rs
[2025-02-05T07:09:18.174Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: starting new connection: http://127.0.0.1:57870/ (file=null,line=null,log.line=620,log.module_path=reqwest::connect,log.target=reqwest::connect,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/reqwest-0.12.12/src/connect.rs
[2025-02-05T07:09:18.174Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: connecting to 127.0.0.1:57870 (line=657,target=hyper_util::client::legacy::connect::http)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/hyper-util-0.1.10/src/client/legacy/connect/http.rs
[2025-02-05T07:09:18.174Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: connected to 127.0.0.1:57870 (line=660,target=hyper_util::client::legacy::connect::http)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/hyper-util-0.1.10/src/client/legacy/connect/http.rs
[2025-02-05T07:09:18.174Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - START] (line=109,method=GET,target=tower_http::trace::make_span,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/make_span.rs
    --
    uri: /subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe
[2025-02-05T07:09:18.174Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - EVENT] started processing request (line=80,method=GET,target=tower_http::trace::on_request,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/on_request.rs
    --
    uri: /subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe
[2025-02-05T07:09:18.174Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [CALL - START] (line=183,method=GET,target=tower_sessions::service,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-0.14.0/src/service.rs
    --
    uri: /subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe
[2025-02-05T07:09:18.174Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - START] (line=107,method=GET,target=tower_sessions_core::session,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
    --
    uri: /subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe
[2025-02-05T07:09:18.174Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - END] (elapsed_milliseconds=0,line=107,method=GET,target=tower_sessions_core::session,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
    --
    uri: /subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe
[2025-02-05T07:09:18.174Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [CONFIRM A PENDING SUBSCRIBER - START] (file=src/routes/subscriptions_confirm.rs,line=14,method=GET,target=zero2prod::routes::subscriptions_confirm,version=HTTP/1.1)
    uri: /subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe
[2025-02-05T07:09:18.175Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [CONFIRM A PENDING SUBSCRIBER - EVENT] sqlx::query (elapsed=442.5µs,elapsed_secs=0.0004425,line=143,method=GET,rows_affected=0,rows_returned=1,target=sqlx::query,version=HTTP/1.1)
    db.statement: 
    
    SELECT subscriber_id FROM subscription_tokens WHERE subscription_token = ?
    --
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/sqlx-core-0.8.3/src/logger.rs
    --
    summary: SELECT subscriber_id FROM subscription_tokens …
    --
    uri: /subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe
[2025-02-05T07:09:18.175Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [MAKE THE SUBSCRIBER STATUS AS CONFIRMED - START] (file=src/routes/subscriptions_confirm.rs,line=69,method=GET,target=zero2prod::routes::subscriptions_confirm,version=HTTP/1.1)
    uri: /subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe
[2025-02-05T07:09:18.176Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [MAKE THE SUBSCRIBER STATUS AS CONFIRMED - EVENT] No cached session for DnsName("localhost") (file=null,line=null,log.line=83,log.module_path=rustls::client::hs,log.target=rustls::client::hs,method=GET,target=log,version=HTTP/1.1)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/rustls-0.23.21/src/client/hs.rs
    --
    uri: /subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe
[2025-02-05T07:09:18.176Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [MAKE THE SUBSCRIBER STATUS AS CONFIRMED - EVENT] Not resuming any session (file=null,line=null,log.line=141,log.module_path=rustls::client::hs,log.target=rustls::client::hs,method=GET,target=log,version=HTTP/1.1)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/rustls-0.23.21/src/client/hs.rs
    --
    uri: /subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe
[2025-02-05T07:09:18.180Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [MAKE THE SUBSCRIBER STATUS AS CONFIRMED - EVENT] Using ciphersuite TLS13_AES_256_GCM_SHA384 (file=null,line=null,log.line=875,log.module_path=rustls::client::hs,log.target=rustls::client::hs,method=GET,target=log,version=HTTP/1.1)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/rustls-0.23.21/src/client/hs.rs
    --
    uri: /subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe
[2025-02-05T07:09:18.180Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [MAKE THE SUBSCRIBER STATUS AS CONFIRMED - EVENT] Not resuming (file=null,line=null,log.line=141,log.module_path=rustls::client::tls13,log.target=rustls::client::tls13,method=GET,target=log,version=HTTP/1.1)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/rustls-0.23.21/src/client/tls13.rs
    --
    uri: /subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe
[2025-02-05T07:09:18.180Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [MAKE THE SUBSCRIBER STATUS AS CONFIRMED - EVENT] TLS1.3 encrypted extensions: [] (file=null,line=null,log.line=467,log.module_path=rustls::client::tls13,log.target=rustls::client::tls13,method=GET,target=log,version=HTTP/1.1)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/rustls-0.23.21/src/client/tls13.rs
    --
    uri: /subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe
[2025-02-05T07:09:18.180Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [MAKE THE SUBSCRIBER STATUS AS CONFIRMED - EVENT] ALPN protocol is None (file=null,line=null,log.line=686,log.module_path=rustls::client::hs,log.target=rustls::client::hs,method=GET,target=log,version=HTTP/1.1)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/rustls-0.23.21/src/client/hs.rs
    --
    uri: /subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe
[2025-02-05T07:09:18.181Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [MAKE THE SUBSCRIBER STATUS AS CONFIRMED - EVENT] Got CertificateRequest CertificateRequestPayloadTls13 { context: , extensions: [SignatureAlgorithms([ECDSA_NISTP256_SHA256, ECDSA_NISTP384_SHA384, ECDSA_NISTP521_SHA512, ED25519, ED448, SignatureScheme(0x809), SignatureScheme(0x80a), SignatureScheme(0x80b), RSA_PSS_SHA256, RSA_PSS_SHA384, RSA_PSS_SHA512, RSA_PKCS1_SHA256, RSA_PKCS1_SHA384, RSA_PKCS1_SHA512, SignatureScheme(0x303), SignatureScheme(0x301)])] } (file=null,line=null,log.line=848,log.module_path=rustls::client::tls13,log.target=rustls::client::tls13,method=GET,target=log,version=HTTP/1.1)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/rustls-0.23.21/src/client/tls13.rs
    --
    uri: /subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe
[2025-02-05T07:09:18.181Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [MAKE THE SUBSCRIBER STATUS AS CONFIRMED - EVENT] Client auth requested but no cert/sigscheme available (file=null,line=null,log.line=108,log.module_path=rustls::client::common,log.target=rustls::client::common,method=GET,target=log,version=HTTP/1.1)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/rustls-0.23.21/src/client/common.rs
    --
    uri: /subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe
[2025-02-05T07:09:18.189Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [MAKE THE SUBSCRIBER STATUS AS CONFIRMED - EVENT] sqlx::query (elapsed=251.25µs,elapsed_secs=0.00025125,line=143,method=GET,rows_affected=0,rows_returned=0,target=sqlx::query,version=HTTP/1.1)
    db.statement: 
    
    SET sql_mode=(SELECT CONCAT(@@sql_mode, ',PIPES_AS_CONCAT,NO_ENGINE_SUBSTITUTION')),time_zone='+00:00',NAMES utf8mb4 COLLATE utf8mb4_unicode_ci;
    --
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/sqlx-core-0.8.3/src/logger.rs
    --
    summary: SET sql_mode=(SELECT CONCAT(@@sql_mode, ',PIPES_AS_CONCAT,NO_ENGINE_SUBSTITUTION')),time_zone='+00:00',NAMES …
    --
    uri: /subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe
[2025-02-05T07:09:18.190Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [MAKE THE SUBSCRIBER STATUS AS CONFIRMED - EVENT] sqlx::query (elapsed=1.218125ms,elapsed_secs=0.001218125,line=143,method=GET,rows_affected=1,rows_returned=0,summary="UPDATE subscriptions SET status …",target=sqlx::query,version=HTTP/1.1)
    db.statement: 
    
    UPDATE subscriptions SET status = 'confirmed' WHERE id = ?
    --
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/sqlx-core-0.8.3/src/logger.rs
    --
    uri: /subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe
[2025-02-05T07:09:18.190Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [MAKE THE SUBSCRIBER STATUS AS CONFIRMED - END] (elapsed_milliseconds=15,file=src/routes/subscriptions_confirm.rs,line=69,method=GET,target=zero2prod::routes::subscriptions_confirm,version=HTTP/1.1)
    uri: /subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe
[2025-02-05T07:09:18.190Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [CONFIRM A PENDING SUBSCRIBER - END] (elapsed_milliseconds=15,file=src/routes/subscriptions_confirm.rs,line=14,method=GET,target=zero2prod::routes::subscriptions_confirm,version=HTTP/1.1)
    uri: /subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe
[2025-02-05T07:09:18.190Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - EVENT] finished processing request (latency="16 ms",line=114,method=GET,status=200,target=tower_http::trace::on_response,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/on_response.rs
    --
    uri: /subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe
[2025-02-05T07:09:18.190Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [CALL - END] (elapsed_milliseconds=16,line=183,method=GET,target=tower_sessions::service,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-0.14.0/src/service.rs
    --
    uri: /subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe
[2025-02-05T07:09:18.190Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - END] (elapsed_milliseconds=16,line=109,method=GET,target=tower_http::trace::make_span,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/make_span.rs
    --
    uri: /subscriptions/confirm?token=kAdUnDT2VmpKq3jFmomjyg4oe
[2025-02-05T07:09:18.191Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: pooling idle connection for ("http", 127.0.0.1:57870) (line=396,target=hyper_util::client::legacy::pool)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/hyper-util-0.1.10/src/client/legacy/pool.rs
[2025-02-05T07:09:18.191Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: reuse idle connection for ("http", 127.0.0.1:57870) (line=270,target=hyper_util::client::legacy::pool)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/hyper-util-0.1.10/src/client/legacy/pool.rs
[2025-02-05T07:09:18.191Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - START] (line=109,method=POST,target=tower_http::trace::make_span,uri=/login,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/make_span.rs
[2025-02-05T07:09:18.191Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - EVENT] started processing request (line=80,method=POST,target=tower_http::trace::on_request,uri=/login,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/on_request.rs
[2025-02-05T07:09:18.191Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [CALL - START] (line=183,method=POST,target=tower_sessions::service,uri=/login,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-0.14.0/src/service.rs
[2025-02-05T07:09:18.191Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - START] (line=107,method=POST,target=tower_sessions_core::session,uri=/login,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.191Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - END] (elapsed_milliseconds=0,line=107,method=POST,target=tower_sessions_core::session,uri=/login,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.191Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [POST LOGIN FORM - START] (file=src/routes/login/post.rs,line=26,method=POST,target=zero2prod::routes::login::post,uri=/login,version=HTTP/1.1)
[2025-02-05T07:09:18.191Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [VALIDATE CREDENTIALS - START] (file=src/authentication/password.rs,line=31,method=POST,target=zero2prod::authentication::password,uri=/login,username="Heidi Carter",version=HTTP/1.1)
[2025-02-05T07:09:18.191Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET STORED CREDENTIALS - START] (file=src/authentication/password.rs,line=71,method=POST,target=zero2prod::authentication::password,uri=/login,username="Heidi Carter",version=HTTP/1.1)
[2025-02-05T07:09:18.192Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [GET STORED CREDENTIALS - EVENT] sqlx::query (elapsed=594.083µs,elapsed_secs=0.000594083,line=143,method=POST,rows_affected=0,rows_returned=1,summary="SELECT user_id, password_hash FROM …",target=sqlx::query,uri=/login,username="Heidi Carter",version=HTTP/1.1)
    db.statement: 
    
    SELECT user_id, password_hash FROM users WHERE username = ?
    --
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/sqlx-core-0.8.3/src/logger.rs
[2025-02-05T07:09:18.192Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET STORED CREDENTIALS - END] (elapsed_milliseconds=0,file=src/authentication/password.rs,line=71,method=POST,target=zero2prod::authentication::password,uri=/login,username="Heidi Carter",version=HTTP/1.1)
[2025-02-05T07:09:18.192Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [VERIFY PASSWORD HASH - START] (file=src/authentication/password.rs,line=51,method=POST,target=zero2prod::authentication::password,uri=/login,username="Heidi Carter",version=HTTP/1.1)
[2025-02-05T07:09:18.553Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [VERIFY PASSWORD HASH - END] (elapsed_milliseconds=360,file=src/authentication/password.rs,line=51,method=POST,target=zero2prod::authentication::password,uri=/login,username="Heidi Carter",version=HTTP/1.1)
[2025-02-05T07:09:18.553Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [VALIDATE CREDENTIALS - END] (elapsed_milliseconds=362,file=src/authentication/password.rs,line=31,method=POST,target=zero2prod::authentication::password,uri=/login,username="Heidi Carter",version=HTTP/1.1)
[2025-02-05T07:09:18.554Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - START] (line=107,method=POST,target=tower_sessions_core::session,uri=/login,user_id=8a00de15-b406-485a-ab65-a09dc2c68320,username="Heidi Carter",version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.554Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - END] (elapsed_milliseconds=0,line=107,method=POST,target=tower_sessions_core::session,uri=/login,user_id=8a00de15-b406-485a-ab65-a09dc2c68320,username="Heidi Carter",version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.554Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - START] (line=107,method=POST,target=tower_sessions_core::session,uri=/login,user_id=8a00de15-b406-485a-ab65-a09dc2c68320,username="Heidi Carter",version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.554Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - END] (elapsed_milliseconds=0,line=107,method=POST,target=tower_sessions_core::session,uri=/login,user_id=8a00de15-b406-485a-ab65-a09dc2c68320,username="Heidi Carter",version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.554Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [POST LOGIN FORM - END] (elapsed_milliseconds=362,file=src/routes/login/post.rs,line=26,method=POST,target=zero2prod::routes::login::post,uri=/login,user_id=8a00de15-b406-485a-ab65-a09dc2c68320,username="Heidi Carter",version=HTTP/1.1)
[2025-02-05T07:09:18.554Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [CALL - EVENT] saving session (line=255,method=POST,target=tower_sessions::service,uri=/login,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-0.14.0/src/service.rs
[2025-02-05T07:09:18.554Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [SAVE - START] (line=664,method=POST,target=tower_sessions_core::session,uri=/login,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.554Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - START] (line=107,method=POST,target=tower_sessions_core::session,uri=/login,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.554Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - END] (elapsed_milliseconds=0,line=107,method=POST,target=tower_sessions_core::session,uri=/login,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.554Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [SAVE - END] (elapsed_milliseconds=0,line=664,method=POST,target=tower_sessions_core::session,uri=/login,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.555Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [CALL - EVENT] adding session cookie (line=275,method=POST,target=tower_sessions::service,uri=/login,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-0.14.0/src/service.rs
[2025-02-05T07:09:18.555Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - EVENT] finished processing request (latency="363 ms",line=114,method=POST,status=303,target=tower_http::trace::on_response,uri=/login,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/on_response.rs
[2025-02-05T07:09:18.555Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [CALL - END] (elapsed_milliseconds=363,line=183,method=POST,target=tower_sessions::service,uri=/login,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-0.14.0/src/service.rs
[2025-02-05T07:09:18.555Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - END] (elapsed_milliseconds=364,line=109,method=POST,target=tower_http::trace::make_span,uri=/login,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/make_span.rs
[2025-02-05T07:09:18.555Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: pooling idle connection for ("http", 127.0.0.1:57870) (line=396,target=hyper_util::client::legacy::pool)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/hyper-util-0.1.10/src/client/legacy/pool.rs
[2025-02-05T07:09:18.555Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: inserting Set-Cookie 'Cookie { cookie_string: Some("id=NPBE59f9mbchZosdkYi+YS9LmTyhuJ8wF94Kbjk9gdo=iL7h2uGD0jGEwXaR6EXJ5Q; HttpOnly; SameSite=Strict; Path=/; Max-Age=600"), name: Indexed(0, 2), value: Indexed(3, 69), expires: None, max_age: Some(Duration { seconds: 600, nanoseconds: 0 }), domain: None, path: Some(Indexed(103, 104)), secure: None, http_only: Some(true), same_site: Some(Strict), partitioned: None }' (file=null,line=null,log.line=80,log.module_path=cookie_store::cookie_store,log.target=cookie_store::cookie_store,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/cookie_store-0.21.1/src/cookie_store.rs
[2025-02-05T07:09:18.555Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: redirect policy disallowed redirection to 'http://127.0.0.1:57870/admin/dashboard' (file=null,line=null,log.line=2842,log.module_path=reqwest::async_impl::client,log.target=reqwest::async_impl::client,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/reqwest-0.12.12/src/async_impl/client.rs
[2025-02-05T07:09:18.555Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: reuse idle connection for ("http", 127.0.0.1:57870) (line=270,target=hyper_util::client::legacy::pool)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/hyper-util-0.1.10/src/client/legacy/pool.rs
[2025-02-05T07:09:18.556Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - START] (line=109,method=POST,target=tower_http::trace::make_span,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/make_span.rs
[2025-02-05T07:09:18.556Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - EVENT] started processing request (line=80,method=POST,target=tower_http::trace::on_request,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/on_request.rs
[2025-02-05T07:09:18.556Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [CALL - START] (line=183,method=POST,target=tower_sessions::service,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-0.14.0/src/service.rs
[2025-02-05T07:09:18.556Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - START] (line=107,method=POST,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.556Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - END] (elapsed_milliseconds=0,line=107,method=POST,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.556Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [REJECT ANONYMOUS USER - START] (line=12,method=POST,uri=/admin/newsletters,version=HTTP/1.1)
    file: src/authentication/middleware/reject_anonymous_user.rs
    --
    target: zero2prod::authentication::middleware::reject_anonymous_user
[2025-02-05T07:09:18.556Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - START] (line=107,method=POST,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.556Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - END] (elapsed_milliseconds=0,line=107,method=POST,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.556Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [PUBLISH A NEWSLETTER ISSUE - START] (file=src/routes/admin/newsletter/post.rs,line=15,method=POST,target=zero2prod::routes::admin::newsletter::post,uri=/admin/newsletters,user_id=UserId(8a00de15-b406-485a-ab65-a09dc2c68320),version=HTTP/1.1)
    form: FormData { title: "Newsletter Title", html_content: "<p>Newsletter body as HTML</p>", text_content: "Newsletter body as plain text", idempotency_key: "0825655c-3f41-4aed-90c7-32397d4cc952" }
    --
    messages: Messages { session: Session { store: RedisStore { client: RedisPool { size: 6, prefer_connected: true } }, inner: Inner { session_id: Mutex { data: Some(Id(-34844086305411979414381537164934398328)) }, record: Mutex { data: Some(Record { id: Id(-34844086305411979414381537164934398328), data: {"user_id": String("8a00de15-b406-485a-ab65-a09dc2c68320")}, expiry_date: 2025-02-05 7:19:18.554721 +00:00:00 }) }, expiry: Mutex { data: Some(OnInactivity(Duration { seconds: 600, nanoseconds: 0 })) }, is_modified: false } }, data: Mutex { data: Data { pending_messages: [], messages: [] } }, is_modified: false }
[2025-02-05T07:09:18.556Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET SAVED RESPOSNE FROM DATABASE - START] (file=src/idempotency/persistence.rs,line=61,method=POST,target=zero2prod::idempotency::persistence,uri=/admin/newsletters,user_id=UserId(8a00de15-b406-485a-ab65-a09dc2c68320),version=HTTP/1.1)
    form: FormData { title: "Newsletter Title", html_content: "<p>Newsletter body as HTML</p>", text_content: "Newsletter body as plain text", idempotency_key: "0825655c-3f41-4aed-90c7-32397d4cc952" }
    --
    idempotency_key: IdempotencyKey("0825655c-3f41-4aed-90c7-32397d4cc952")
    --
    messages: Messages { session: Session { store: RedisStore { client: RedisPool { size: 6, prefer_connected: true } }, inner: Inner { session_id: Mutex { data: Some(Id(-34844086305411979414381537164934398328)) }, record: Mutex { data: Some(Record { id: Id(-34844086305411979414381537164934398328), data: {"user_id": String("8a00de15-b406-485a-ab65-a09dc2c68320")}, expiry_date: 2025-02-05 7:19:18.554721 +00:00:00 }) }, expiry: Mutex { data: Some(OnInactivity(Duration { seconds: 600, nanoseconds: 0 })) }, is_modified: false } }, data: Mutex { data: Data { pending_messages: [], messages: [] } }, is_modified: false }
    --
    pool: Pool { size: 2, num_idle: 2, is_closed: false, options: PoolOptions { max_connections: 5, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(1s), test_before_acquire: true } }
[2025-02-05T07:09:18.557Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [GET SAVED RESPOSNE FROM DATABASE - EVENT] sqlx::query (elapsed=502.75µs,elapsed_secs=0.00050275,line=143,method=POST,rows_affected=0,rows_returned=0,target=sqlx::query,uri=/admin/newsletters,user_id=UserId(8a00de15-b406-485a-ab65-a09dc2c68320),version=HTTP/1.1)
    db.statement: 
    
    
          SELECT
            response_status_code,
            response_headers,
            response_body
          FROM idempotency
          WHERE
            user_id = ? AND
            idempotency_key = ?
          
    --
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/sqlx-core-0.8.3/src/logger.rs
    --
    form: FormData { title: "Newsletter Title", html_content: "<p>Newsletter body as HTML</p>", text_content: "Newsletter body as plain text", idempotency_key: "0825655c-3f41-4aed-90c7-32397d4cc952" }
    --
    idempotency_key: IdempotencyKey("0825655c-3f41-4aed-90c7-32397d4cc952")
    --
    messages: Messages { session: Session { store: RedisStore { client: RedisPool { size: 6, prefer_connected: true } }, inner: Inner { session_id: Mutex { data: Some(Id(-34844086305411979414381537164934398328)) }, record: Mutex { data: Some(Record { id: Id(-34844086305411979414381537164934398328), data: {"user_id": String("8a00de15-b406-485a-ab65-a09dc2c68320")}, expiry_date: 2025-02-05 7:19:18.554721 +00:00:00 }) }, expiry: Mutex { data: Some(OnInactivity(Duration { seconds: 600, nanoseconds: 0 })) }, is_modified: false } }, data: Mutex { data: Data { pending_messages: [], messages: [] } }, is_modified: false }
    --
    pool: Pool { size: 2, num_idle: 2, is_closed: false, options: PoolOptions { max_connections: 5, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(1s), test_before_acquire: true } }
    --
    summary: SELECT response_status_code, response_headers, response_body …
[2025-02-05T07:09:18.557Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET SAVED RESPOSNE FROM DATABASE - END] (elapsed_milliseconds=0,file=src/idempotency/persistence.rs,line=61,method=POST,target=zero2prod::idempotency::persistence,uri=/admin/newsletters,user_id=UserId(8a00de15-b406-485a-ab65-a09dc2c68320),version=HTTP/1.1)
    form: FormData { title: "Newsletter Title", html_content: "<p>Newsletter body as HTML</p>", text_content: "Newsletter body as plain text", idempotency_key: "0825655c-3f41-4aed-90c7-32397d4cc952" }
    --
    idempotency_key: IdempotencyKey("0825655c-3f41-4aed-90c7-32397d4cc952")
    --
    messages: Messages { session: Session { store: RedisStore { client: RedisPool { size: 6, prefer_connected: true } }, inner: Inner { session_id: Mutex { data: Some(Id(-34844086305411979414381537164934398328)) }, record: Mutex { data: Some(Record { id: Id(-34844086305411979414381537164934398328), data: {"user_id": String("8a00de15-b406-485a-ab65-a09dc2c68320")}, expiry_date: 2025-02-05 7:19:18.554721 +00:00:00 }) }, expiry: Mutex { data: Some(OnInactivity(Duration { seconds: 600, nanoseconds: 0 })) }, is_modified: false } }, data: Mutex { data: Data { pending_messages: [], messages: [] } }, is_modified: false }
    --
    pool: Pool { size: 2, num_idle: 2, is_closed: false, options: PoolOptions { max_connections: 5, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(1s), test_before_acquire: true } }
[2025-02-05T07:09:18.557Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET CONFIRMED SUBSCRIBERS - START] (file=src/routes/admin/newsletter/post.rs,line=70,method=POST,target=zero2prod::routes::admin::newsletter::post,uri=/admin/newsletters,user_id=UserId(8a00de15-b406-485a-ab65-a09dc2c68320),version=HTTP/1.1)
    form: FormData { title: "Newsletter Title", html_content: "<p>Newsletter body as HTML</p>", text_content: "Newsletter body as plain text", idempotency_key: "0825655c-3f41-4aed-90c7-32397d4cc952" }
    --
    messages: Messages { session: Session { store: RedisStore { client: RedisPool { size: 6, prefer_connected: true } }, inner: Inner { session_id: Mutex { data: Some(Id(-34844086305411979414381537164934398328)) }, record: Mutex { data: Some(Record { id: Id(-34844086305411979414381537164934398328), data: {"user_id": String("8a00de15-b406-485a-ab65-a09dc2c68320")}, expiry_date: 2025-02-05 7:19:18.554721 +00:00:00 }) }, expiry: Mutex { data: Some(OnInactivity(Duration { seconds: 600, nanoseconds: 0 })) }, is_modified: false } }, data: Mutex { data: Data { pending_messages: [], messages: [] } }, is_modified: false }
[2025-02-05T07:09:18.557Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [GET CONFIRMED SUBSCRIBERS - EVENT] sqlx::query (elapsed=254µs,elapsed_secs=0.000254,line=143,method=POST,rows_affected=0,rows_returned=1,summary="SELECT email FROM subscriptions …",target=sqlx::query,uri=/admin/newsletters,user_id=UserId(8a00de15-b406-485a-ab65-a09dc2c68320),version=HTTP/1.1)
    db.statement: 
    
    
          SELECT email
          FROM subscriptions
          WHERE status = 'confirmed'
          
    --
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/sqlx-core-0.8.3/src/logger.rs
    --
    form: FormData { title: "Newsletter Title", html_content: "<p>Newsletter body as HTML</p>", text_content: "Newsletter body as plain text", idempotency_key: "0825655c-3f41-4aed-90c7-32397d4cc952" }
    --
    messages: Messages { session: Session { store: RedisStore { client: RedisPool { size: 6, prefer_connected: true } }, inner: Inner { session_id: Mutex { data: Some(Id(-34844086305411979414381537164934398328)) }, record: Mutex { data: Some(Record { id: Id(-34844086305411979414381537164934398328), data: {"user_id": String("8a00de15-b406-485a-ab65-a09dc2c68320")}, expiry_date: 2025-02-05 7:19:18.554721 +00:00:00 }) }, expiry: Mutex { data: Some(OnInactivity(Duration { seconds: 600, nanoseconds: 0 })) }, is_modified: false } }, data: Mutex { data: Data { pending_messages: [], messages: [] } }, is_modified: false }
[2025-02-05T07:09:18.558Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET CONFIRMED SUBSCRIBERS - END] (elapsed_milliseconds=0,file=src/routes/admin/newsletter/post.rs,line=70,method=POST,target=zero2prod::routes::admin::newsletter::post,uri=/admin/newsletters,user_id=UserId(8a00de15-b406-485a-ab65-a09dc2c68320),version=HTTP/1.1)
    form: FormData { title: "Newsletter Title", html_content: "<p>Newsletter body as HTML</p>", text_content: "Newsletter body as plain text", idempotency_key: "0825655c-3f41-4aed-90c7-32397d4cc952" }
    --
    messages: Messages { session: Session { store: RedisStore { client: RedisPool { size: 6, prefer_connected: true } }, inner: Inner { session_id: Mutex { data: Some(Id(-34844086305411979414381537164934398328)) }, record: Mutex { data: Some(Record { id: Id(-34844086305411979414381537164934398328), data: {"user_id": String("8a00de15-b406-485a-ab65-a09dc2c68320")}, expiry_date: 2025-02-05 7:19:18.554721 +00:00:00 }) }, expiry: Mutex { data: Some(OnInactivity(Duration { seconds: 600, nanoseconds: 0 })) }, is_modified: false } }, data: Mutex { data: Data { pending_messages: [], messages: [] } }, is_modified: false }
[2025-02-05T07:09:18.558Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [SEND EMAIL WITH POSTMARK  - START] (file=src/email_client.rs,html_content="<p>Newsletter body as HTML</p>",line=65,method=POST,recipient=SubscriberEmail("georgiana@example.net"),subject="Newsletter Title",subscriber_email=georgiana@example.net,target=zero2prod::email_client,text_content="Newsletter body as plain text",uri=/admin/newsletters,user_id=UserId(8a00de15-b406-485a-ab65-a09dc2c68320),version=HTTP/1.1)
    form: FormData { title: "Newsletter Title", html_content: "<p>Newsletter body as HTML</p>", text_content: "Newsletter body as plain text", idempotency_key: "0825655c-3f41-4aed-90c7-32397d4cc952" }
    --
    messages: Messages { session: Session { store: RedisStore { client: RedisPool { size: 6, prefer_connected: true } }, inner: Inner { session_id: Mutex { data: Some(Id(-34844086305411979414381537164934398328)) }, record: Mutex { data: Some(Record { id: Id(-34844086305411979414381537164934398328), data: {"user_id": String("8a00de15-b406-485a-ab65-a09dc2c68320")}, expiry_date: 2025-02-05 7:19:18.554721 +00:00:00 }) }, expiry: Mutex { data: Some(OnInactivity(Duration { seconds: 600, nanoseconds: 0 })) }, is_modified: false } }, data: Mutex { data: Data { pending_messages: [], messages: [] } }, is_modified: false }
[2025-02-05T07:09:18.558Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [SEND EMAIL WITH POSTMARK  - EVENT] reuse idle connection for ("http", 127.0.0.1:57868) (html_content="<p>Newsletter body as HTML</p>",line=270,method=POST,recipient=SubscriberEmail("georgiana@example.net"),subject="Newsletter Title",subscriber_email=georgiana@example.net,target=hyper_util::client::legacy::pool,text_content="Newsletter body as plain text",uri=/admin/newsletters,user_id=UserId(8a00de15-b406-485a-ab65-a09dc2c68320),version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/hyper-util-0.1.10/src/client/legacy/pool.rs
    --
    form: FormData { title: "Newsletter Title", html_content: "<p>Newsletter body as HTML</p>", text_content: "Newsletter body as plain text", idempotency_key: "0825655c-3f41-4aed-90c7-32397d4cc952" }
    --
    messages: Messages { session: Session { store: RedisStore { client: RedisPool { size: 6, prefer_connected: true } }, inner: Inner { session_id: Mutex { data: Some(Id(-34844086305411979414381537164934398328)) }, record: Mutex { data: Some(Record { id: Id(-34844086305411979414381537164934398328), data: {"user_id": String("8a00de15-b406-485a-ab65-a09dc2c68320")}, expiry_date: 2025-02-05 7:19:18.554721 +00:00:00 }) }, expiry: Mutex { data: Some(OnInactivity(Duration { seconds: 600, nanoseconds: 0 })) }, is_modified: false } }, data: Mutex { data: Data { pending_messages: [], messages: [] } }, is_modified: false }
[2025-02-05T07:09:18.558Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: Handling request. (file=null,line=null,log.line=60,log.module_path=wiremock::mock_set,log.target=wiremock::mock_set,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/wiremock-0.6.2/src/mock_set.rs
[2025-02-05T07:09:18.558Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [SEND EMAIL WITH POSTMARK  - EVENT] pooling idle connection for ("http", 127.0.0.1:57868) (html_content="<p>Newsletter body as HTML</p>",line=396,method=POST,recipient=SubscriberEmail("georgiana@example.net"),subject="Newsletter Title",subscriber_email=georgiana@example.net,target=hyper_util::client::legacy::pool,text_content="Newsletter body as plain text",uri=/admin/newsletters,user_id=UserId(8a00de15-b406-485a-ab65-a09dc2c68320),version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/hyper-util-0.1.10/src/client/legacy/pool.rs
    --
    form: FormData { title: "Newsletter Title", html_content: "<p>Newsletter body as HTML</p>", text_content: "Newsletter body as plain text", idempotency_key: "0825655c-3f41-4aed-90c7-32397d4cc952" }
    --
    messages: Messages { session: Session { store: RedisStore { client: RedisPool { size: 6, prefer_connected: true } }, inner: Inner { session_id: Mutex { data: Some(Id(-34844086305411979414381537164934398328)) }, record: Mutex { data: Some(Record { id: Id(-34844086305411979414381537164934398328), data: {"user_id": String("8a00de15-b406-485a-ab65-a09dc2c68320")}, expiry_date: 2025-02-05 7:19:18.554721 +00:00:00 }) }, expiry: Mutex { data: Some(OnInactivity(Duration { seconds: 600, nanoseconds: 0 })) }, is_modified: false } }, data: Mutex { data: Data { pending_messages: [], messages: [] } }, is_modified: false }
[2025-02-05T07:09:18.558Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [SEND EMAIL WITH POSTMARK  - END] (elapsed_milliseconds=0,file=src/email_client.rs,html_content="<p>Newsletter body as HTML</p>",line=65,method=POST,recipient=SubscriberEmail("georgiana@example.net"),subject="Newsletter Title",subscriber_email=georgiana@example.net,target=zero2prod::email_client,text_content="Newsletter body as plain text",uri=/admin/newsletters,user_id=UserId(8a00de15-b406-485a-ab65-a09dc2c68320),version=HTTP/1.1)
    form: FormData { title: "Newsletter Title", html_content: "<p>Newsletter body as HTML</p>", text_content: "Newsletter body as plain text", idempotency_key: "0825655c-3f41-4aed-90c7-32397d4cc952" }
    --
    messages: Messages { session: Session { store: RedisStore { client: RedisPool { size: 6, prefer_connected: true } }, inner: Inner { session_id: Mutex { data: Some(Id(-34844086305411979414381537164934398328)) }, record: Mutex { data: Some(Record { id: Id(-34844086305411979414381537164934398328), data: {"user_id": String("8a00de15-b406-485a-ab65-a09dc2c68320")}, expiry_date: 2025-02-05 7:19:18.554721 +00:00:00 }) }, expiry: Mutex { data: Some(OnInactivity(Duration { seconds: 600, nanoseconds: 0 })) }, is_modified: false } }, data: Mutex { data: Data { pending_messages: [], messages: [] } }, is_modified: false }
[2025-02-05T07:09:18.558Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [PUBLISH A NEWSLETTER ISSUE - EVENT] Redirecting to /admin/newsletters (file=src/utils/mod.rs,line=20,method=POST,target=zero2prod::utils,uri=/admin/newsletters,user_id=UserId(8a00de15-b406-485a-ab65-a09dc2c68320),version=HTTP/1.1)
    form: FormData { title: "Newsletter Title", html_content: "<p>Newsletter body as HTML</p>", text_content: "Newsletter body as plain text", idempotency_key: "0825655c-3f41-4aed-90c7-32397d4cc952" }
    --
    messages: Messages { session: Session { store: RedisStore { client: RedisPool { size: 6, prefer_connected: true } }, inner: Inner { session_id: Mutex { data: Some(Id(-34844086305411979414381537164934398328)) }, record: Mutex { data: Some(Record { id: Id(-34844086305411979414381537164934398328), data: {"user_id": String("8a00de15-b406-485a-ab65-a09dc2c68320")}, expiry_date: 2025-02-05 7:19:18.554721 +00:00:00 }) }, expiry: Mutex { data: Some(OnInactivity(Duration { seconds: 600, nanoseconds: 0 })) }, is_modified: false } }, data: Mutex { data: Data { pending_messages: [], messages: [] } }, is_modified: false }
[2025-02-05T07:09:18.558Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [SAVE RESPONSE TO DATABASE - START] (file=src/idempotency/persistence.rs,line=14,method=POST,target=zero2prod::idempotency::persistence,uri=/admin/newsletters,user_id=UserId(8a00de15-b406-485a-ab65-a09dc2c68320),version=HTTP/1.1)
    form: FormData { title: "Newsletter Title", html_content: "<p>Newsletter body as HTML</p>", text_content: "Newsletter body as plain text", idempotency_key: "0825655c-3f41-4aed-90c7-32397d4cc952" }
    --
    idempotency_key: IdempotencyKey("0825655c-3f41-4aed-90c7-32397d4cc952")
    --
    messages: Messages { session: Session { store: RedisStore { client: RedisPool { size: 6, prefer_connected: true } }, inner: Inner { session_id: Mutex { data: Some(Id(-34844086305411979414381537164934398328)) }, record: Mutex { data: Some(Record { id: Id(-34844086305411979414381537164934398328), data: {"user_id": String("8a00de15-b406-485a-ab65-a09dc2c68320")}, expiry_date: 2025-02-05 7:19:18.554721 +00:00:00 }) }, expiry: Mutex { data: Some(OnInactivity(Duration { seconds: 600, nanoseconds: 0 })) }, is_modified: false } }, data: Mutex { data: Data { pending_messages: [], messages: [] } }, is_modified: false }
    --
    pool: Pool { size: 2, num_idle: 2, is_closed: false, options: PoolOptions { max_connections: 5, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(1s), test_before_acquire: true } }
    --
    response: Response { status: 303, version: HTTP/1.1, headers: {"location": "/admin/newsletters"}, body: Body(UnsyncBoxBody) }
[2025-02-05T07:09:18.563Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [SAVE RESPONSE TO DATABASE - EVENT] sqlx::query (elapsed=4.342ms,elapsed_secs=0.004342,line=143,method=POST,rows_affected=1,rows_returned=0,summary="INSERT INTO idempotency ( …",target=sqlx::query,uri=/admin/newsletters,user_id=UserId(8a00de15-b406-485a-ab65-a09dc2c68320),version=HTTP/1.1)
    db.statement: 
    
    
          INSERT INTO idempotency (
            user_id,
            idempotency_key,
            response_status_code,
            response_headers,
            response_body,
            created_at
          )
          VALUES (?, ?, ?, ?, ?, now())
          
    --
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/sqlx-core-0.8.3/src/logger.rs
    --
    form: FormData { title: "Newsletter Title", html_content: "<p>Newsletter body as HTML</p>", text_content: "Newsletter body as plain text", idempotency_key: "0825655c-3f41-4aed-90c7-32397d4cc952" }
    --
    idempotency_key: IdempotencyKey("0825655c-3f41-4aed-90c7-32397d4cc952")
    --
    messages: Messages { session: Session { store: RedisStore { client: RedisPool { size: 6, prefer_connected: true } }, inner: Inner { session_id: Mutex { data: Some(Id(-34844086305411979414381537164934398328)) }, record: Mutex { data: Some(Record { id: Id(-34844086305411979414381537164934398328), data: {"user_id": String("8a00de15-b406-485a-ab65-a09dc2c68320")}, expiry_date: 2025-02-05 7:19:18.554721 +00:00:00 }) }, expiry: Mutex { data: Some(OnInactivity(Duration { seconds: 600, nanoseconds: 0 })) }, is_modified: false } }, data: Mutex { data: Data { pending_messages: [], messages: [] } }, is_modified: false }
    --
    pool: Pool { size: 2, num_idle: 2, is_closed: false, options: PoolOptions { max_connections: 5, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(1s), test_before_acquire: true } }
    --
    response: Response { status: 303, version: HTTP/1.1, headers: {"location": "/admin/newsletters"}, body: Body(UnsyncBoxBody) }
[2025-02-05T07:09:18.563Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [SAVE RESPONSE TO DATABASE - END] (elapsed_milliseconds=4,file=src/idempotency/persistence.rs,line=14,method=POST,target=zero2prod::idempotency::persistence,uri=/admin/newsletters,user_id=UserId(8a00de15-b406-485a-ab65-a09dc2c68320),version=HTTP/1.1)
    form: FormData { title: "Newsletter Title", html_content: "<p>Newsletter body as HTML</p>", text_content: "Newsletter body as plain text", idempotency_key: "0825655c-3f41-4aed-90c7-32397d4cc952" }
    --
    idempotency_key: IdempotencyKey("0825655c-3f41-4aed-90c7-32397d4cc952")
    --
    messages: Messages { session: Session { store: RedisStore { client: RedisPool { size: 6, prefer_connected: true } }, inner: Inner { session_id: Mutex { data: Some(Id(-34844086305411979414381537164934398328)) }, record: Mutex { data: Some(Record { id: Id(-34844086305411979414381537164934398328), data: {"user_id": String("8a00de15-b406-485a-ab65-a09dc2c68320")}, expiry_date: 2025-02-05 7:19:18.554721 +00:00:00 }) }, expiry: Mutex { data: Some(OnInactivity(Duration { seconds: 600, nanoseconds: 0 })) }, is_modified: false } }, data: Mutex { data: Data { pending_messages: [], messages: [] } }, is_modified: false }
    --
    pool: Pool { size: 2, num_idle: 2, is_closed: false, options: PoolOptions { max_connections: 5, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(1s), test_before_acquire: true } }
    --
    response: Response { status: 303, version: HTTP/1.1, headers: {"location": "/admin/newsletters"}, body: Body(UnsyncBoxBody) }
[2025-02-05T07:09:18.563Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [PUBLISH A NEWSLETTER ISSUE - END] (elapsed_milliseconds=6,file=src/routes/admin/newsletter/post.rs,line=15,method=POST,target=zero2prod::routes::admin::newsletter::post,uri=/admin/newsletters,user_id=UserId(8a00de15-b406-485a-ab65-a09dc2c68320),version=HTTP/1.1)
    form: FormData { title: "Newsletter Title", html_content: "<p>Newsletter body as HTML</p>", text_content: "Newsletter body as plain text", idempotency_key: "0825655c-3f41-4aed-90c7-32397d4cc952" }
    --
    messages: Messages { session: Session { store: RedisStore { client: RedisPool { size: 6, prefer_connected: true } }, inner: Inner { session_id: Mutex { data: Some(Id(-34844086305411979414381537164934398328)) }, record: Mutex { data: Some(Record { id: Id(-34844086305411979414381537164934398328), data: {"user_id": String("8a00de15-b406-485a-ab65-a09dc2c68320")}, expiry_date: 2025-02-05 7:19:18.554721 +00:00:00 }) }, expiry: Mutex { data: Some(OnInactivity(Duration { seconds: 600, nanoseconds: 0 })) }, is_modified: false } }, data: Mutex { data: Data { pending_messages: [], messages: [] } }, is_modified: false }
[2025-02-05T07:09:18.563Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [REJECT ANONYMOUS USER - END] (elapsed_milliseconds=7,line=12,method=POST,uri=/admin/newsletters,version=HTTP/1.1)
    file: src/authentication/middleware/reject_anonymous_user.rs
    --
    target: zero2prod::authentication::middleware::reject_anonymous_user
[2025-02-05T07:09:18.563Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - START] (line=107,method=POST,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.563Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - END] (elapsed_milliseconds=0,line=107,method=POST,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.563Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [CALL - EVENT] saving session (line=255,method=POST,target=tower_sessions::service,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-0.14.0/src/service.rs
[2025-02-05T07:09:18.563Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [SAVE - START] (line=664,method=POST,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.563Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - START] (line=107,method=POST,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.563Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - END] (elapsed_milliseconds=0,line=107,method=POST,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.564Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [SAVE - END] (elapsed_milliseconds=0,line=664,method=POST,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.564Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [CALL - EVENT] adding session cookie (line=275,method=POST,target=tower_sessions::service,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-0.14.0/src/service.rs
[2025-02-05T07:09:18.564Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - EVENT] finished processing request (latency="8 ms",line=114,method=POST,status=303,target=tower_http::trace::on_response,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/on_response.rs
[2025-02-05T07:09:18.564Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [CALL - END] (elapsed_milliseconds=8,line=183,method=POST,target=tower_sessions::service,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-0.14.0/src/service.rs
[2025-02-05T07:09:18.564Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - END] (elapsed_milliseconds=8,line=109,method=POST,target=tower_http::trace::make_span,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/make_span.rs
[2025-02-05T07:09:18.564Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: pooling idle connection for ("http", 127.0.0.1:57870) (line=396,target=hyper_util::client::legacy::pool)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/hyper-util-0.1.10/src/client/legacy/pool.rs
[2025-02-05T07:09:18.564Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: inserting Set-Cookie 'Cookie { cookie_string: Some("id=NPBE59f9mbchZosdkYi+YS9LmTyhuJ8wF94Kbjk9gdo=iL7h2uGD0jGEwXaR6EXJ5Q; HttpOnly; SameSite=Strict; Path=/; Max-Age=600"), name: Indexed(0, 2), value: Indexed(3, 69), expires: None, max_age: Some(Duration { seconds: 600, nanoseconds: 0 }), domain: None, path: Some(Indexed(103, 104)), secure: None, http_only: Some(true), same_site: Some(Strict), partitioned: None }' (file=null,line=null,log.line=80,log.module_path=cookie_store::cookie_store,log.target=cookie_store::cookie_store,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/cookie_store-0.21.1/src/cookie_store.rs
[2025-02-05T07:09:18.564Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: redirect policy disallowed redirection to 'http://127.0.0.1:57870/admin/newsletters' (file=null,line=null,log.line=2842,log.module_path=reqwest::async_impl::client,log.target=reqwest::async_impl::client,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/reqwest-0.12.12/src/async_impl/client.rs
[2025-02-05T07:09:18.564Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: reuse idle connection for ("http", 127.0.0.1:57870) (line=270,target=hyper_util::client::legacy::pool)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/hyper-util-0.1.10/src/client/legacy/pool.rs
[2025-02-05T07:09:18.564Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - START] (line=109,method=GET,target=tower_http::trace::make_span,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/make_span.rs
[2025-02-05T07:09:18.564Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - EVENT] started processing request (line=80,method=GET,target=tower_http::trace::on_request,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/on_request.rs
[2025-02-05T07:09:18.564Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [CALL - START] (line=183,method=GET,target=tower_sessions::service,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-0.14.0/src/service.rs
[2025-02-05T07:09:18.564Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - START] (line=107,method=GET,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.564Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - END] (elapsed_milliseconds=0,line=107,method=GET,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.565Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [REJECT ANONYMOUS USER - START] (line=12,method=GET,uri=/admin/newsletters,version=HTTP/1.1)
    file: src/authentication/middleware/reject_anonymous_user.rs
    --
    target: zero2prod::authentication::middleware::reject_anonymous_user
[2025-02-05T07:09:18.565Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - START] (line=107,method=GET,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.565Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - END] (elapsed_milliseconds=0,line=107,method=GET,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.565Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [REJECT ANONYMOUS USER - END] (elapsed_milliseconds=0,line=12,method=GET,uri=/admin/newsletters,version=HTTP/1.1)
    file: src/authentication/middleware/reject_anonymous_user.rs
    --
    target: zero2prod::authentication::middleware::reject_anonymous_user
[2025-02-05T07:09:18.565Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - START] (line=107,method=GET,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.565Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - END] (elapsed_milliseconds=0,line=107,method=GET,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.565Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [CALL - EVENT] saving session (line=255,method=GET,target=tower_sessions::service,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-0.14.0/src/service.rs
[2025-02-05T07:09:18.565Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [SAVE - START] (line=664,method=GET,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.565Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - START] (line=107,method=GET,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.565Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - END] (elapsed_milliseconds=0,line=107,method=GET,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.565Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [SAVE - END] (elapsed_milliseconds=0,line=664,method=GET,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.565Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [CALL - EVENT] adding session cookie (line=275,method=GET,target=tower_sessions::service,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-0.14.0/src/service.rs
[2025-02-05T07:09:18.565Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - EVENT] finished processing request (latency="0 ms",line=114,method=GET,status=200,target=tower_http::trace::on_response,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/on_response.rs
[2025-02-05T07:09:18.565Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [CALL - END] (elapsed_milliseconds=0,line=183,method=GET,target=tower_sessions::service,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-0.14.0/src/service.rs
[2025-02-05T07:09:18.565Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - END] (elapsed_milliseconds=0,line=109,method=GET,target=tower_http::trace::make_span,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/make_span.rs
[2025-02-05T07:09:18.565Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: pooling idle connection for ("http", 127.0.0.1:57870) (line=396,target=hyper_util::client::legacy::pool)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/hyper-util-0.1.10/src/client/legacy/pool.rs
[2025-02-05T07:09:18.565Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: inserting Set-Cookie 'Cookie { cookie_string: Some("id=NPBE59f9mbchZosdkYi+YS9LmTyhuJ8wF94Kbjk9gdo=iL7h2uGD0jGEwXaR6EXJ5Q; HttpOnly; SameSite=Strict; Path=/; Max-Age=600"), name: Indexed(0, 2), value: Indexed(3, 69), expires: None, max_age: Some(Duration { seconds: 600, nanoseconds: 0 }), domain: None, path: Some(Indexed(103, 104)), secure: None, http_only: Some(true), same_site: Some(Strict), partitioned: None }' (file=null,line=null,log.line=80,log.module_path=cookie_store::cookie_store,log.target=cookie_store::cookie_store,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/cookie_store-0.21.1/src/cookie_store.rs
[2025-02-05T07:09:18.565Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: reuse idle connection for ("http", 127.0.0.1:57870) (line=270,target=hyper_util::client::legacy::pool)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/hyper-util-0.1.10/src/client/legacy/pool.rs
[2025-02-05T07:09:18.565Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - START] (line=109,method=POST,target=tower_http::trace::make_span,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/make_span.rs
[2025-02-05T07:09:18.566Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - EVENT] started processing request (line=80,method=POST,target=tower_http::trace::on_request,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/on_request.rs
[2025-02-05T07:09:18.566Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [CALL - START] (line=183,method=POST,target=tower_sessions::service,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-0.14.0/src/service.rs
[2025-02-05T07:09:18.566Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - START] (line=107,method=POST,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.566Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - END] (elapsed_milliseconds=0,line=107,method=POST,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.566Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [REJECT ANONYMOUS USER - START] (line=12,method=POST,uri=/admin/newsletters,version=HTTP/1.1)
    file: src/authentication/middleware/reject_anonymous_user.rs
    --
    target: zero2prod::authentication::middleware::reject_anonymous_user
[2025-02-05T07:09:18.566Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - START] (line=107,method=POST,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.566Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - END] (elapsed_milliseconds=0,line=107,method=POST,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.566Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [PUBLISH A NEWSLETTER ISSUE - START] (file=src/routes/admin/newsletter/post.rs,line=15,method=POST,target=zero2prod::routes::admin::newsletter::post,uri=/admin/newsletters,user_id=UserId(8a00de15-b406-485a-ab65-a09dc2c68320),version=HTTP/1.1)
    form: FormData { title: "Newsletter Title", html_content: "<p>Newsletter body as HTML</p>", text_content: "Newsletter body as plain text", idempotency_key: "0825655c-3f41-4aed-90c7-32397d4cc952" }
    --
    messages: Messages { session: Session { store: RedisStore { client: RedisPool { size: 6, prefer_connected: true } }, inner: Inner { session_id: Mutex { data: Some(Id(-34844086305411979414381537164934398328)) }, record: Mutex { data: Some(Record { id: Id(-34844086305411979414381537164934398328), data: {"axum-messages.data": Object {"messages": Array [], "pending_messages": Array []}, "user_id": String("8a00de15-b406-485a-ab65-a09dc2c68320")}, expiry_date: 2025-02-05 7:19:18.565293 +00:00:00 }) }, expiry: Mutex { data: Some(OnInactivity(Duration { seconds: 600, nanoseconds: 0 })) }, is_modified: false } }, data: Mutex { data: Data { pending_messages: [], messages: [] } }, is_modified: false }
[2025-02-05T07:09:18.566Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET SAVED RESPOSNE FROM DATABASE - START] (file=src/idempotency/persistence.rs,line=61,method=POST,target=zero2prod::idempotency::persistence,uri=/admin/newsletters,user_id=UserId(8a00de15-b406-485a-ab65-a09dc2c68320),version=HTTP/1.1)
    form: FormData { title: "Newsletter Title", html_content: "<p>Newsletter body as HTML</p>", text_content: "Newsletter body as plain text", idempotency_key: "0825655c-3f41-4aed-90c7-32397d4cc952" }
    --
    idempotency_key: IdempotencyKey("0825655c-3f41-4aed-90c7-32397d4cc952")
    --
    messages: Messages { session: Session { store: RedisStore { client: RedisPool { size: 6, prefer_connected: true } }, inner: Inner { session_id: Mutex { data: Some(Id(-34844086305411979414381537164934398328)) }, record: Mutex { data: Some(Record { id: Id(-34844086305411979414381537164934398328), data: {"axum-messages.data": Object {"messages": Array [], "pending_messages": Array []}, "user_id": String("8a00de15-b406-485a-ab65-a09dc2c68320")}, expiry_date: 2025-02-05 7:19:18.565293 +00:00:00 }) }, expiry: Mutex { data: Some(OnInactivity(Duration { seconds: 600, nanoseconds: 0 })) }, is_modified: false } }, data: Mutex { data: Data { pending_messages: [], messages: [] } }, is_modified: false }
    --
    pool: Pool { size: 2, num_idle: 2, is_closed: false, options: PoolOptions { max_connections: 5, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(1s), test_before_acquire: true } }
[2025-02-05T07:09:18.567Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [GET SAVED RESPOSNE FROM DATABASE - EVENT] sqlx::query (elapsed=386.208µs,elapsed_secs=0.000386208,line=143,method=POST,rows_affected=0,rows_returned=1,target=sqlx::query,uri=/admin/newsletters,user_id=UserId(8a00de15-b406-485a-ab65-a09dc2c68320),version=HTTP/1.1)
    db.statement: 
    
    
          SELECT
            response_status_code,
            response_headers,
            response_body
          FROM idempotency
          WHERE
            user_id = ? AND
            idempotency_key = ?
          
    --
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/sqlx-core-0.8.3/src/logger.rs
    --
    form: FormData { title: "Newsletter Title", html_content: "<p>Newsletter body as HTML</p>", text_content: "Newsletter body as plain text", idempotency_key: "0825655c-3f41-4aed-90c7-32397d4cc952" }
    --
    idempotency_key: IdempotencyKey("0825655c-3f41-4aed-90c7-32397d4cc952")
    --
    messages: Messages { session: Session { store: RedisStore { client: RedisPool { size: 6, prefer_connected: true } }, inner: Inner { session_id: Mutex { data: Some(Id(-34844086305411979414381537164934398328)) }, record: Mutex { data: Some(Record { id: Id(-34844086305411979414381537164934398328), data: {"axum-messages.data": Object {"messages": Array [], "pending_messages": Array []}, "user_id": String("8a00de15-b406-485a-ab65-a09dc2c68320")}, expiry_date: 2025-02-05 7:19:18.565293 +00:00:00 }) }, expiry: Mutex { data: Some(OnInactivity(Duration { seconds: 600, nanoseconds: 0 })) }, is_modified: false } }, data: Mutex { data: Data { pending_messages: [], messages: [] } }, is_modified: false }
    --
    pool: Pool { size: 2, num_idle: 2, is_closed: false, options: PoolOptions { max_connections: 5, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(1s), test_before_acquire: true } }
    --
    summary: SELECT response_status_code, response_headers, response_body …
[2025-02-05T07:09:18.567Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET SAVED RESPOSNE FROM DATABASE - END] (elapsed_milliseconds=0,file=src/idempotency/persistence.rs,line=61,method=POST,target=zero2prod::idempotency::persistence,uri=/admin/newsletters,user_id=UserId(8a00de15-b406-485a-ab65-a09dc2c68320),version=HTTP/1.1)
    form: FormData { title: "Newsletter Title", html_content: "<p>Newsletter body as HTML</p>", text_content: "Newsletter body as plain text", idempotency_key: "0825655c-3f41-4aed-90c7-32397d4cc952" }
    --
    idempotency_key: IdempotencyKey("0825655c-3f41-4aed-90c7-32397d4cc952")
    --
    messages: Messages { session: Session { store: RedisStore { client: RedisPool { size: 6, prefer_connected: true } }, inner: Inner { session_id: Mutex { data: Some(Id(-34844086305411979414381537164934398328)) }, record: Mutex { data: Some(Record { id: Id(-34844086305411979414381537164934398328), data: {"axum-messages.data": Object {"messages": Array [], "pending_messages": Array []}, "user_id": String("8a00de15-b406-485a-ab65-a09dc2c68320")}, expiry_date: 2025-02-05 7:19:18.565293 +00:00:00 }) }, expiry: Mutex { data: Some(OnInactivity(Duration { seconds: 600, nanoseconds: 0 })) }, is_modified: false } }, data: Mutex { data: Data { pending_messages: [], messages: [] } }, is_modified: false }
    --
    pool: Pool { size: 2, num_idle: 2, is_closed: false, options: PoolOptions { max_connections: 5, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(1s), test_before_acquire: true } }
[2025-02-05T07:09:18.567Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [PUBLISH A NEWSLETTER ISSUE - EVENT] saved_http_response: Response { status: 303, version: HTTP/1.1, headers: {"location": "/admin/newsletters"}, body: Body(UnsyncBoxBody) } (file=src/routes/admin/newsletter/post.rs,line=38,method=POST,target=zero2prod::routes::admin::newsletter::post,uri=/admin/newsletters,user_id=UserId(8a00de15-b406-485a-ab65-a09dc2c68320),version=HTTP/1.1)
    form: FormData { title: "Newsletter Title", html_content: "<p>Newsletter body as HTML</p>", text_content: "Newsletter body as plain text", idempotency_key: "0825655c-3f41-4aed-90c7-32397d4cc952" }
    --
    messages: Messages { session: Session { store: RedisStore { client: RedisPool { size: 6, prefer_connected: true } }, inner: Inner { session_id: Mutex { data: Some(Id(-34844086305411979414381537164934398328)) }, record: Mutex { data: Some(Record { id: Id(-34844086305411979414381537164934398328), data: {"axum-messages.data": Object {"messages": Array [], "pending_messages": Array []}, "user_id": String("8a00de15-b406-485a-ab65-a09dc2c68320")}, expiry_date: 2025-02-05 7:19:18.565293 +00:00:00 }) }, expiry: Mutex { data: Some(OnInactivity(Duration { seconds: 600, nanoseconds: 0 })) }, is_modified: false } }, data: Mutex { data: Data { pending_messages: [], messages: [] } }, is_modified: false }
[2025-02-05T07:09:18.567Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [PUBLISH A NEWSLETTER ISSUE - END] (elapsed_milliseconds=0,file=src/routes/admin/newsletter/post.rs,line=15,method=POST,target=zero2prod::routes::admin::newsletter::post,uri=/admin/newsletters,user_id=UserId(8a00de15-b406-485a-ab65-a09dc2c68320),version=HTTP/1.1)
    form: FormData { title: "Newsletter Title", html_content: "<p>Newsletter body as HTML</p>", text_content: "Newsletter body as plain text", idempotency_key: "0825655c-3f41-4aed-90c7-32397d4cc952" }
    --
    messages: Messages { session: Session { store: RedisStore { client: RedisPool { size: 6, prefer_connected: true } }, inner: Inner { session_id: Mutex { data: Some(Id(-34844086305411979414381537164934398328)) }, record: Mutex { data: Some(Record { id: Id(-34844086305411979414381537164934398328), data: {"axum-messages.data": Object {"messages": Array [], "pending_messages": Array []}, "user_id": String("8a00de15-b406-485a-ab65-a09dc2c68320")}, expiry_date: 2025-02-05 7:19:18.565293 +00:00:00 }) }, expiry: Mutex { data: Some(OnInactivity(Duration { seconds: 600, nanoseconds: 0 })) }, is_modified: false } }, data: Mutex { data: Data { pending_messages: [], messages: [] } }, is_modified: false }
[2025-02-05T07:09:18.567Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [REJECT ANONYMOUS USER - END] (elapsed_milliseconds=0,line=12,method=POST,uri=/admin/newsletters,version=HTTP/1.1)
    file: src/authentication/middleware/reject_anonymous_user.rs
    --
    target: zero2prod::authentication::middleware::reject_anonymous_user
[2025-02-05T07:09:18.567Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - EVENT] finished processing request (latency="1 ms",line=114,method=POST,status=303,target=tower_http::trace::on_response,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/on_response.rs
[2025-02-05T07:09:18.567Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [CALL - END] (elapsed_milliseconds=1,line=183,method=POST,target=tower_sessions::service,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-0.14.0/src/service.rs
[2025-02-05T07:09:18.567Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - END] (elapsed_milliseconds=1,line=109,method=POST,target=tower_http::trace::make_span,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/make_span.rs
[2025-02-05T07:09:18.567Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: pooling idle connection for ("http", 127.0.0.1:57870) (line=396,target=hyper_util::client::legacy::pool)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/hyper-util-0.1.10/src/client/legacy/pool.rs
[2025-02-05T07:09:18.567Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: redirect policy disallowed redirection to 'http://127.0.0.1:57870/admin/newsletters' (file=null,line=null,log.line=2842,log.module_path=reqwest::async_impl::client,log.target=reqwest::async_impl::client,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/reqwest-0.12.12/src/async_impl/client.rs
[2025-02-05T07:09:18.567Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: reuse idle connection for ("http", 127.0.0.1:57870) (line=270,target=hyper_util::client::legacy::pool)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/hyper-util-0.1.10/src/client/legacy/pool.rs
[2025-02-05T07:09:18.567Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - START] (line=109,method=GET,target=tower_http::trace::make_span,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/make_span.rs
[2025-02-05T07:09:18.567Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - EVENT] started processing request (line=80,method=GET,target=tower_http::trace::on_request,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/on_request.rs
[2025-02-05T07:09:18.567Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [CALL - START] (line=183,method=GET,target=tower_sessions::service,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-0.14.0/src/service.rs
[2025-02-05T07:09:18.567Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - START] (line=107,method=GET,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.567Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - END] (elapsed_milliseconds=0,line=107,method=GET,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.567Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [REJECT ANONYMOUS USER - START] (line=12,method=GET,uri=/admin/newsletters,version=HTTP/1.1)
    file: src/authentication/middleware/reject_anonymous_user.rs
    --
    target: zero2prod::authentication::middleware::reject_anonymous_user
[2025-02-05T07:09:18.567Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - START] (line=107,method=GET,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.567Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [GET_RECORD - END] (elapsed_milliseconds=0,line=107,method=GET,target=tower_sessions_core::session,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-core-0.14.0/src/session.rs
[2025-02-05T07:09:18.568Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [REJECT ANONYMOUS USER - END] (elapsed_milliseconds=0,line=12,method=GET,uri=/admin/newsletters,version=HTTP/1.1)
    file: src/authentication/middleware/reject_anonymous_user.rs
    --
    target: zero2prod::authentication::middleware::reject_anonymous_user
[2025-02-05T07:09:18.568Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - EVENT] finished processing request (latency="0 ms",line=114,method=GET,status=200,target=tower_http::trace::on_response,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/on_response.rs
[2025-02-05T07:09:18.568Z]  INFO: test/82958 on caiyuanruideMacBook-Air.local: [CALL - END] (elapsed_milliseconds=0,line=183,method=GET,target=tower_sessions::service,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-sessions-0.14.0/src/service.rs
[2025-02-05T07:09:18.568Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: [REQUEST - END] (elapsed_milliseconds=0,line=109,method=GET,target=tower_http::trace::make_span,uri=/admin/newsletters,version=HTTP/1.1)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/tower-http-0.6.2/src/trace/make_span.rs
[2025-02-05T07:09:18.568Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: pooling idle connection for ("http", 127.0.0.1:57870) (line=396,target=hyper_util::client::legacy::pool)
    file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/hyper-util-0.1.10/src/client/legacy/pool.rs
[2025-02-05T07:09:18.568Z] DEBUG: test/82958 on caiyuanruideMacBook-Air.local: Verify mock expectations. (file=null,line=null,log.line=331,log.module_path=wiremock::mock_server::exposed_server,log.target=wiremock::mock_server::exposed_server,target=log)
    log.file: /Users/caiyuanrui/.cargo/registry/src/index.crates.io-6f17d22bba15001f/wiremock-0.6.2/src/mock_server/exposed_server.rs
test newsletter::newsletter_creation_is_idempotent ... FAILED

failures:

---- newsletter::newsletter_creation_is_idempotent stdout ----
created database _sqlx_test_database_2728
thread 'newsletter::newsletter_creation_is_idempotent' panicked at tests/api/newsletter.rs:40:5:
assertion failed: html_page.contains("<p><i>The newsletter issue has been published!</i></p>")
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    newsletter::newsletter_creation_is_idempotent

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 30 filtered out; finished in 1.05s

